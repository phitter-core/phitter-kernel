import scipy.integrate

def integrate_quad_64(f, a: float, b: float):
    WEIGHTS = [0.001783281, 0.004147033, 0.006504458, 0.00884676, 0.011168139, 0.013463048, 0.01572603, 0.017951716, 0.020134823, 0.022270174, 0.024352703, 0.02637747, 0.028339673, 0.030234657, 0.032057928, 0.033805162, 0.035472213, 0.037055129, 0.038550153, 0.039953741, 0.041262563, 0.042473515, 0.043583725, 0.044590558, 0.045491628, 0.046284797, 0.046968183, 0.047540166, 0.047999389, 0.048344762, 0.048575467, 0.048690957, 0.048690957, 0.048575467, 0.048344762, 0.047999389, 0.047540166, 0.046968183, 0.046284797, 0.045491628, 0.044590558, 0.043583725, 0.042473515, 0.041262563, 0.039953741, 0.038550153, 0.037055129, 0.035472213, 0.033805162, 0.032057928, 0.030234657, 0.028339673, 0.02637747, 0.024352703, 0.022270174, 0.020134823, 0.017951716, 0.01572603, 0.013463048, 0.011168139, 0.00884676, 0.006504458, 0.004147033, 0.001783281]
    ROOTS = [-0.999305042, -0.996340117, -0.991013371, -0.983336254, -0.973326828, -0.9610088, -0.946411375, -0.929569172, -0.910522137, -0.889315446, -0.865999398, -0.840629296, -0.813265315, -0.783972359, -0.752819907, -0.71988185, -0.685236313, -0.648965471, -0.611155355, -0.571895646, -0.531279464, -0.489403146, -0.446366017, -0.402270158, -0.357220158, -0.311322872, -0.264687162, -0.217423644, -0.16964442, -0.121462819, -0.072993122, -0.024350293, 0.024350293, 0.072993122, 0.121462819, 0.16964442, 0.217423644, 0.264687162, 0.311322872, 0.357220158, 0.402270158, 0.446366017, 0.489403146, 0.531279464, 0.571895646, 0.611155355, 0.648965471, 0.685236313, 0.71988185, 0.752819907, 0.783972359, 0.813265315, 0.840629296, 0.865999398, 0.889315446, 0.910522137, 0.929569172, 0.946411375, 0.9610088, 0.973326828, 0.983336254, 0.991013371, 0.996340117, 0.999305042]
    t = list(map(lambda x: 0.5 * (x + 1) * (b - a) + a, ROOTS))
    return 0.5 * (b - a) * sum(map(lambda i: WEIGHTS[i] * f(t[i]), range(len(WEIGHTS))))

if __name__ == "__main__":
    f = lambda x: x * x
    a = 0
    b = 3

    result_scipy = scipy.integrate.quad(f, a, b)
    print(result_scipy)

    result = integrate_quad_64(f, a, b)
    print(result)